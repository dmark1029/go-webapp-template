(function(t){function e(e){for(var o,s,r=e[0],c=e[1],l=e[2],u=0,m=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&m.push(i[s][0]),i[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);d&&d(e);while(m.length)m.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(o=!1)}o&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},i={app:0},a=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-container",attrs:{id:"app"}},[n("router-view")],1)},a=[],s=n("d4ec"),r=n("bee2"),c=n("db82"),l=n.n(c),d=function(){function t(){Object(s["a"])(this,t)}return Object(r["a"])(t,null,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;l.a.get(this.requestUrl(t)).withCredentials().query(e).end((function(t,e){e&&e.ok?n(e.body):o(e.body)}))}},{key:"post",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;l.a.post(this.requestUrl(t)).withCredentials().set("Content-Type","application/json").send(e).end((function(t,e){e&&e.ok?n(e.body):o(e.body)}))}},{key:"formPost",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;l.a.post(this.requestUrl(t)).withCredentials().type("form").send(e).end((function(t,e){e&&e.ok?n(e.body):o(e.body)}))}},{key:"requestUrl",value:function(t){return t}}]),t}(),u={name:"App",data:function(){return{login:!1}},methods:{checkLogin:function(t,e,n){var o=this,i=this;d.get("/api/account/loginStatus",{},(function(){i.login=!0,n()}),(function(){i.login=!1,o.$router.push("/login")}))}}},m=u,f=n("2877"),p=Object(f["a"])(m,i,a,!1,null,null,null),b=p.exports,h=(n("45fc"),n("8c4f")),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"centered-container"},[n("md-content",{staticClass:"md-elevation-3"},[n("div",{staticClass:"title"},[n("div",{staticClass:"md-title"},[t._v(t._s(t.AppInfo.AppName))])]),n("div",{staticClass:"form"},[n("md-field",[n("label",[t._v("User")]),n("md-input",{attrs:{autofocus:""},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})],1),n("md-field",{attrs:{"md-has-password":""}},[n("label",[t._v("Password")]),n("md-input",{attrs:{type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),n("div",{staticClass:"actions md-layout md-alignment-center-space-between"},[n("md-button",{staticClass:"md-raised md-primary",on:{click:t.login}},[t._v("Log in")])],1),t.isLoading?n("div",{staticClass:"loading-overlay"},[n("md-progress-spinner",{attrs:{"md-mode":"indeterminate","md-stroke":2}})],1):t._e(),n("md-snackbar",{attrs:{"md-position":"center","md-active":t.showErrorMessage,"md-persistent":""},on:{"update:mdActive":function(e){t.showErrorMessage=e},"update:md-active":function(e){t.showErrorMessage=e}}},[n("span",[t._v(t._s(t.message))])])],1)],1)},g=[],k={AppName:"vuejs-webapp-sample",AppDeveloper:"ybkuroki",GithubLink:"https://github.com/ybkuroki/vuejs-webapp-sample"},_={name:"Login",data:function(){return{AppInfo:k,user:"",password:"",message:"",showErrorMessage:!1,isLoading:!1}},methods:{login:function(){var t=this;this.isLoading=!0;var e=this;d.formPost("/api/account/login",{username:e.user,password:e.password},(function(){t.isLoading=!1,t.$router.push("/home"),e.message=""}),(function(){t.isLoading=!1,t.showErrorMessage=!0,e.message="Failed to logged-in."}))}}},y=_,C=(n("d6db"),Object(f["a"])(y,v,g,!1,null,null,null)),w=C.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header",[n("template",{slot:"header-content"},[n("md-field",{staticClass:"search-box md-autocomplete md-autocomplete-box md-inline",attrs:{"md-clearable":""}},[n("div",{staticClass:"md-menu"},[n("md-input",{on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),n("label",[t._v("Search...")])]),n("md-button",{staticClass:"md-icon-button",on:{click:t.search}},[n("md-icon",[t._v("search")])],1)],1),n("template",{slot:"header-content-end"},[n("label",[t._v(t._s(t.userName))]),n("md-button",{staticClass:"md-icon-button",on:{click:t.logout}},[n("md-icon",[n("font-awesome-icon",{attrs:{icon:["fas","sign-out-alt"]}})],1)],1)],1),n("template",{slot:"app-content"},[t.isCreate?n("CreateCard",{on:{cancel:t.createCancel}}):t._e(),t.isLoading?n("md-progress-spinner",{attrs:{"md-mode":"indeterminate"}}):t._l(t.books,(function(e){return n("EditCard",{key:e.id,attrs:{book:e},on:{cancel:t.getBookList}})})),n("div",{staticClass:"margin"})],2)],2),n("md-button",{staticClass:"md-fab md-fab-bottom-right md-primary",on:{click:t.create}},[n("md-icon",[t._v("add")])],1)],1)},x=[],j=(n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-app",{attrs:{"md-mode":"reveal"}},[n("md-app-toolbar",{staticClass:"md-primary"},[n("div",{staticClass:"md-toolbar-row"},[n("md-button",{staticClass:"md-icon-button",on:{click:function(e){t.menuVisible=!t.menuVisible}}},[n("md-icon",[t._v("menu")])],1),t._t("header-content"),n("div",{staticClass:"md-toolbar-section-end"},[n("md-button",{staticClass:"md-icon-button",on:{click:t.clickGithub}},[n("md-icon",[n("font-awesome-icon",{attrs:{icon:["fab","github"]}})],1)],1),t._t("header-content-end")],2)],2)]),n("md-app-drawer",{attrs:{"md-active":t.menuVisible},on:{"update:mdActive":function(e){t.menuVisible=e},"update:md-active":function(e){t.menuVisible=e}}},[n("md-toolbar",{staticClass:"md-transparent",attrs:{"md-elevation":"0"}},[t._v("Navigation")]),n("md-list",[n("md-list-item",{on:{click:t.clickHome}},[n("md-icon",[t._v("home")]),n("span",{staticClass:"md-list-item-text"},[t._v("Home")])],1),n("md-list-item",{on:{click:t.clickAbout}},[n("md-icon",[t._v("info")]),n("span",{staticClass:"md-list-item-text"},[t._v("About")])],1),n("md-list-item",{on:{click:t.clickGithub}},[n("md-icon",[n("font-awesome-icon",{attrs:{icon:["fab","github"]}})],1),n("span",{staticClass:"md-list-item-text"},[t._v("GitHub")])],1)],1)],1),n("md-app-content",[t._t("app-content")],2)],1)}),E=[],A={name:"Header",data:function(){return{menuVisible:!1}},methods:{clickHome:function(){this.$router.push("home")},clickAbout:function(){this.$router.push("about")},clickGithub:function(){window.open(k.GithubLink)}}},L=A,M=(n("8baf"),Object(f["a"])(L,j,E,!1,null,null,null)),$=M.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-card",{attrs:{"md-with-hover":""}},[n("md-card-content",[n("md-field",{class:{"md-invalid":t.errors.hasOwnProperty("title")}},[n("label",[t._v("Title")]),n("md-input",{attrs:{autofocus:"",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),n("span",{staticClass:"md-error"},[t._v(t._s(t.errors["title"]))])],1),n("md-field",{class:{"md-invalid":t.errors.hasOwnProperty("isbn")}},[n("label",[t._v("ISBN")]),n("md-input",{attrs:{required:""},model:{value:t.isbn,callback:function(e){t.isbn=e},expression:"isbn"}}),n("span",{staticClass:"md-error"},[t._v(t._s(t.errors["isbn"]))])],1),n("md-field",[n("label",[t._v("Category")]),n("md-select",{model:{value:t.category,callback:function(e){t.category=e},expression:"category"}},t._l(t.categories,(function(e){return n("md-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1),n("md-field",[n("label",[t._v("Format")]),n("md-select",{model:{value:t.format,callback:function(e){t.format=e},expression:"format"}},t._l(t.formats,(function(e){return n("md-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1)],1),n("md-card-actions",[n("md-button",{on:{click:t.cancel}},[t._v("Cancel")]),n("md-button",{on:{click:t.create}},[t._v("Create")])],1)],1)},N=[],P={name:"CreateCard",data:function(){return{title:"",isbn:"",errors:[],category:1,format:1,isLoading:!1}},computed:{categories:function(){return this.$store.getters.getCategory},formats:function(){return this.$store.getters.getFormat}},methods:{initilize:function(){this.errors="",this.title="",this.isbn="",this.category=1,this.format=1},create:function(){var t=this,e=this;this.isLoading=!0;var n={title:this.title,isbn:this.isbn,categoryId:this.category,formatId:this.format};d.post("/api/book/new",JSON.stringify(n),(function(){t.isLoading=!1,e.cancel()}),(function(n){t.isLoading=!1,e.errors=n}))},cancel:function(){this.initilize(),this.$emit("cancel")}}},I=P,q=Object(f["a"])(I,S,N,!1,null,null,null),T=q.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-card",{attrs:{"md-with-hover":""}},[t.isEdit?[n("md-card-content",[n("md-field",{class:{"md-invalid":t.errors.hasOwnProperty("title")}},[n("label",[t._v("Title")]),n("md-input",{attrs:{autofocus:"",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),n("span",{staticClass:"md-error"},[t._v(t._s(t.errors["title"]))])],1),n("md-field",{class:{"md-invalid":t.errors.hasOwnProperty("isbn")}},[n("label",[t._v("ISBN")]),n("md-input",{attrs:{required:""},model:{value:t.isbn,callback:function(e){t.isbn=e},expression:"isbn"}}),n("span",{staticClass:"md-error"},[t._v(t._s(t.errors["isbn"]))])],1),n("md-field",[n("label",[t._v("Category")]),n("md-select",{model:{value:t.category,callback:function(e){t.category=e},expression:"category"}},t._l(t.categories,(function(e){return n("md-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1),n("md-field",[n("label",[t._v("Format")]),n("md-select",{model:{value:t.format,callback:function(e){t.format=e},expression:"format"}},t._l(t.formats,(function(e){return n("md-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1)],1)]:[n("md-card-header",[n("div",{staticClass:"md-title"},[t._v(t._s(t.book.title))])]),n("md-card-content",[n("p",[t._v(t._s(t.book.category.name))]),n("p",[t._v(t._s(t.book.format.name))])])],n("md-card-actions",{attrs:{"md-alignment":"space-between"}},[n("md-button",{on:{click:t.remove}},[t._v("Delete")]),n("div",[t.isEdit?n("md-button",{on:{click:t.cancel}},[t._v("Cancel")]):t._e(),n("md-button",{on:{click:t.edit}},[t._v("Edit")])],1)],1)],2)},G=[],F={name:"EditCard",props:{book:Object},data:function(){return{title:"",isbn:"",category:1,format:1,editable:!1,errors:[]}},created:function(){this.getBook()},computed:{isEdit:{get:function(){return this.editable},set:function(t){this.editable=t}},categories:function(){return this.$store.getters.getCategory},formats:function(){return this.$store.getters.getFormat}},methods:{getBook:function(){var t=this;d.get("/api/book/get",{id:t.book.id},(function(e){t.errors="",t.title=e.title,t.isbn=e.isbn,t.category=e.category.id,t.format=e.format.id}),(function(){}))},edit:function(){if(this.isEdit){var t={id:this.book.id,title:this.title,isbn:this.isbn,categoryId:this.category,formatId:this.format},e=this;d.post("/api/book/edit",JSON.stringify(t),(function(){e.cancel()}),(function(t){e.errors=t}))}else this.getBook(),this.isEdit=!0},remove:function(){var t={id:this.book.id,title:this.title,isbn:this.isbn,categoryId:this.category,formatId:this.format},e=this;d.post("/api/book/delete",JSON.stringify(t),(function(){e.cancel()}),(function(){}))},cancel:function(){this.isEdit=!1,this.$emit("cancel")}}},H=F,D=Object(f["a"])(H,B,G,!1,null,null,null),V=D.exports,J="GET_CATEGORY",U="GET_FORMAT",z={name:"home",data:function(){return{books:[],query:"",uri:"",userName:"user",keyword:"",contents:[],isLoading:!1,isCreate:!1}},components:{CreateCard:T,EditCard:V,Header:$},created:function(){this.uri="/api/book/list",this.getBookList();var t=this;d.get("/api/account/loginAccount",{},(function(e){t.userName=e.name})),this.$store.dispatch(J),this.$store.dispatch(U)},methods:{search:function(){this.isLoading=!0,this.uri="/api/book/search?query="+this.keyword,this.currentPage=1,this.isLoading=!1,this.getBookList()},getBookList:function(){var t=this;d.get(t.uri,{},(function(e){t.books=e.content}),(function(){}))},create:function(){this.isCreate=!0,document.querySelector(".md-scrollbar").scrollTop=0},createCancel:function(){this.isCreate=!1,this.getBookList()},logout:function(){var t=this;d.post("/api/account/logout",{},(function(){t.$router.push("/login"),d.get("/api/account/loginStatus",{},{},{})}),(function(){}))}}},R=z,Y=(n("cccb"),Object(f["a"])(R,O,x,!1,null,null,null)),K=Y.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Header",[n("template",{slot:"header-content"},[n("span",{staticClass:"md-title"},[t._v("About")])]),n("template",{slot:"app-content"},[n("md-list",[n("md-subheader",{staticClass:"md-primary"},[t._v("Application Name")]),n("md-list-item",[n("span",{staticClass:"md-list-item-text"},[t._v(t._s(t.AppInfo.AppName))])]),n("md-subheader",{staticClass:"md-primary"},[t._v("Developer")]),n("md-list-item",[n("span",{staticClass:"md-list-item-text"},[t._v(t._s(t.AppInfo.AppDeveloper))])]),n("md-subheader",{staticClass:"md-primary"},[t._v("Github")]),n("md-list-item",[n("span",{staticClass:"md-list-item-text"},[t._v(t._s(t.AppInfo.GithubLink))])])],1)],1)],2)},W=[],X={name:"About",data:function(){return{AppInfo:k}},components:{Header:$}},Z=X,tt=Object(f["a"])(Z,Q,W,!1,null,null,null),et=tt.exports;o["default"].use(h["a"]);var nt=new h["a"]({base:"/",routes:[{path:"/login",component:w,meta:{anonymous:!0}},{path:"/home",name:"home",component:K},{path:"/about",name:"about",component:et},{path:"/*",redirect:"/home"}]});nt.beforeEach((function(t,e,n){t.matched.some((function(t){return t.meta.anonymous}))?n():o["default"].nextTick((function(){return nt.app.$children[0].checkLogin(t,e,n)}))}));var ot,it,at=nt,st=n("ade3"),rt=n("2f62");o["default"].use(rt["a"]);var ct={category:[],format:[]},lt=(ot={},Object(st["a"])(ot,J,(function(t){var e=t.commit;d.get("/api/master/category",{},(function(t){e(J,t)}))})),Object(st["a"])(ot,U,(function(t){var e=t.commit;d.get("/api/master/format",{},(function(t){e(U,t)}))})),ot),dt={getCategory:function(t){return t.category},getFormat:function(t){return t.format}},ut=(it={},Object(st["a"])(it,J,(function(t,e){t.category=e})),Object(st["a"])(it,U,(function(t,e){t.format=e})),it),mt=new rt["a"].Store({state:ct,getters:dt,actions:lt,mutations:ut}),ft=mt,pt=n("9483");Object(pt["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var bt=n("9c30");n("51de"),n("e094");o["default"].use(bt["MdApp"]),o["default"].use(bt["MdButton"]),o["default"].use(bt["MdCard"]),o["default"].use(bt["MdContent"]),o["default"].use(bt["MdDrawer"]),o["default"].use(bt["MdField"]),o["default"].use(bt["MdIcon"]),o["default"].use(bt["MdSnackbar"]),o["default"].use(bt["MdSpeedDial"]),o["default"].use(bt["MdToolbar"]),o["default"].use(bt["MdProgress"]),o["default"].use(bt["MdList"]),o["default"].use(bt["MdSubheader"]),o["default"].use(bt["MdMenu"]);var ht=n("ecee"),vt=n("c074"),gt=n("f2d1"),kt=n("ad3d");ht["c"].add(gt["a"]),ht["c"].add(vt["a"]),o["default"].component("font-awesome-icon",kt["a"]),o["default"].config.productionTip=!1,new o["default"]({router:at,store:ft,render:function(t){return t(b)}}).$mount("#app")},"5ced":function(t,e,n){},6860:function(t,e,n){},"8baf":function(t,e,n){"use strict";n("6860")},cccb:function(t,e,n){"use strict";n("5ced")},d6db:function(t,e,n){"use strict";n("e67a")},e67a:function(t,e,n){}});