(function(t){function e(e){for(var o,r,s=e[0],c=e[1],l=e[2],d=0,m=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(m.length)m.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(o=!1)}o&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var o={},i={app:0},a=[];function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-container",attrs:{id:"app"}},[n("router-view")],1)},a=[],r=n("d4ec"),s=n("bee2"),c=(n("2b3d"),n("d3b7"),n("3ca3"),n("ddb0"),n("159b"),n("b64b"),n("bc3a")),l=n.n(c);l.a.defaults.withCredentials=!0,l.a.defaults.baseURL="/";var u=function(){function t(){Object(r["a"])(this,t)}return Object(s["a"])(t,null,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=this.createParameter(e);l.a.get(t,{params:i}).then((function(t){n&&n(t.data)})).catch((function(t){o&&o(t)}))}},{key:"post",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;l.a.post(t,e).then((function(t){n&&n(t.data)})).catch((function(t){o&&o(t)}))}},{key:"formPost",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=this.createParameter(e),a={headers:{"Content-Type":"application/x-www-form-urlencoded"}};l.a.post(t,i,a).then((function(t){n&&n(t.data)})).catch((function(t){o&&o(t)}))}},{key:"createParameter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new URLSearchParams;return Object.keys(t).forEach((function(n){t[n]&&e.append(n,t[n])})),e}}]),t}(),d={AppName:"vuejs-webapp-sample",AppDeveloper:"ybkuroki",GithubLink:"https://github.com/ybkuroki/vuejs-webapp-sample"},m="/api",f=m+"/book",p=m+"/master",h=m+"/account",b={Base:f,List:f+"/list",Search:f+"/search",Create:f+"/new",Edit:f+"/edit",Delete:f+"/delete"},g={Category:p+"/category",Format:p+"/format"},v={LoginStatus:h+"/loginStatus",LoginAccount:h+"/loginAccount",Login:h+"/login",Logout:h+"/logout"},_={loginStatus:function(t,e){u.get(v.LoginStatus,{},t,e)},loginAccount:function(t){u.get(v.LoginAccount,{},t,(function(){return!1}))},login:function(t,e,n){u.formPost(v.Login,t,e,n)},logout:function(t){u.post(v.Logout,{},t,(function(){return!1}))}},k={name:"App",data:function(){return{login:!1}},methods:{checkLogin:function(t,e,n){var o=this,i=this;_.loginStatus((function(){i.login=!0,n()}),(function(){i.login=!1,o.$router.push("/login")}))}}},y=k,C=n("2877"),w=Object(C["a"])(y,i,a,!1,null,null,null),L=w.exports,x=n("8c4f"),O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"centered-container"},[n("md-content",{staticClass:"md-elevation-3"},[n("div",{staticClass:"title"},[n("div",{staticClass:"md-title"},[t._v(t._s(t.AppInfo.AppName))])]),n("div",{staticClass:"form"},[n("md-field",[n("label",[t._v("User")]),n("md-input",{attrs:{autofocus:""},model:{value:t.user,callback:function(e){t.user=e},expression:"user"}})],1),n("md-field",{attrs:{"md-has-password":""}},[n("label",[t._v("Password")]),n("md-input",{attrs:{type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),n("div",{staticClass:"actions md-layout md-alignment-center-space-between"},[n("md-button",{staticClass:"md-raised md-primary",on:{click:t.login}},[t._v("Log in")])],1),t.isLoading?n("div",{staticClass:"loading-overlay"},[n("md-progress-spinner",{attrs:{"md-mode":"indeterminate","md-stroke":2}})],1):t._e(),n("md-snackbar",{attrs:{"md-position":"center","md-active":t.showErrorMessage,"md-persistent":""},on:{"update:mdActive":function(e){t.showErrorMessage=e},"update:md-active":function(e){t.showErrorMessage=e}}},[n("span",[t._v(t._s(t.message))])])],1)],1)},A=[],E={name:"Login",data:function(){return{AppInfo:d,user:"",password:"",message:"",showErrorMessage:!1,isLoading:!1}},methods:{login:function(){var t=this;this.isLoading=!0;var e=this;_.login({username:e.user,password:e.password},(function(){t.isLoading=!1,t.$router.push("/home"),e.message=""}),(function(){t.isLoading=!1,t.showErrorMessage=!0,e.message="Failed to logged-in."}))}}},j=E,M=(n("d6db"),Object(C["a"])(j,O,A,!1,null,null,null)),S=M.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header",[n("template",{slot:"header-content"},[n("md-field",{staticClass:"search-box md-autocomplete md-autocomplete-box md-inline",attrs:{"md-clearable":""}},[n("div",{staticClass:"md-menu"},[n("md-input",{on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}})],1),n("label",[t._v("Search...")])]),n("md-button",{staticClass:"md-icon-button",on:{click:t.search}},[n("md-icon",[t._v("search")])],1)],1),n("template",{slot:"app-content"},[t.isCreate?n("CreateCard",{on:{cancel:t.createCancel}}):t._e(),t.isLoading?n("md-progress-spinner",{attrs:{"md-mode":"indeterminate"}}):t._l(t.books,(function(e){return n("EditCard",{key:e.id,attrs:{book:e},on:{cancel:t.getBookList}})})),n("div",{staticClass:"margin"})],2)],2),n("md-button",{staticClass:"md-fab md-fab-bottom-right md-primary",on:{click:t.create}},[n("md-icon",[t._v("add")])],1)],1)},P=[],I=(n("841c"),n("ac1f"),{get:function(t,e){u.get(b.Base,t,e,(function(){return!1}))},list:function(t,e){u.get(b.List,t,e,(function(){return!1}))},search:function(t,e){u.get(b.Search,t,e,(function(){return!1}))},create:function(t,e,n){u.post(b.Create,t,e,n)},edit:function(t,e,n){u.post(b.Edit,t,e,n)},delete:function(t,e){u.post(b.Delete,t,e,(function(){return!1}))}}),B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-app",{attrs:{"md-waterfall":"","md-mode":"fixed"}},[n("md-app-toolbar",{staticClass:"md-primary"},[n("div",{staticClass:"md-toolbar-row"},[n("md-button",{staticClass:"md-icon-button",on:{click:function(e){t.menuVisible=!t.menuVisible}}},[n("md-icon",[t._v("menu")])],1),t._t("header-content"),n("div",{staticClass:"md-toolbar-section-end"},[n("md-button",{staticClass:"md-icon-button",on:{click:t.clickGithub}},[n("md-icon",[n("font-awesome-icon",{attrs:{icon:["fab","github"]}})],1)],1),""!=t.userName?n("label",[t._v(t._s(t.userName))]):t._e(),n("md-button",{staticClass:"md-icon-button",on:{click:t.logout}},[n("md-icon",[n("font-awesome-icon",{attrs:{icon:["fas","sign-out-alt"]}})],1)],1)],1)],2)]),n("md-app-drawer",{attrs:{"md-active":t.menuVisible},on:{"update:mdActive":function(e){t.menuVisible=e},"update:md-active":function(e){t.menuVisible=e}}},[n("md-toolbar",{staticClass:"md-transparent",attrs:{"md-elevation":"0"}},[t._v("Navigation")]),n("md-list",[n("md-list-item",{on:{click:t.clickHome}},[n("md-icon",[t._v("home")]),n("span",{staticClass:"md-list-item-text"},[t._v("Home")])],1),n("md-list-item",{on:{click:t.clickAbout}},[n("md-icon",[t._v("info")]),n("span",{staticClass:"md-list-item-text"},[t._v("About")])],1),n("md-list-item",{on:{click:t.clickGithub}},[n("md-icon",[n("font-awesome-icon",{attrs:{icon:["fab","github"]}})],1),n("span",{staticClass:"md-list-item-text"},[t._v("GitHub")])],1)],1)],1),n("md-app-content",[t._t("app-content")],2)],1)},N=[],T=(n("b0c0"),{name:"Header",data:function(){return{menuVisible:!1,userName:""}},created:function(){var t=this;_.loginAccount((function(e){return t.userName=e.name}))},methods:{clickHome:function(){this.$router.push("home")},clickAbout:function(){this.$router.push("about")},clickGithub:function(){window.open(d.GithubLink)},logout:function(){var t=this;_.logout((function(){return t.$router.push("/login")}))}}}),F=T,G=(n("8baf"),Object(C["a"])(F,B,N,!1,null,null,null)),H=G.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-card",{attrs:{"md-with-hover":""}},[n("md-card-content",[n("md-field",{class:{"md-invalid":t.errors.hasOwnProperty("title")}},[n("label",[t._v("Title")]),n("md-input",{attrs:{autofocus:"",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),n("span",{staticClass:"md-error"},[t._v(t._s(t.errors["title"]))])],1),n("md-field",{class:{"md-invalid":t.errors.hasOwnProperty("isbn")}},[n("label",[t._v("ISBN")]),n("md-input",{attrs:{required:""},model:{value:t.isbn,callback:function(e){t.isbn=e},expression:"isbn"}}),n("span",{staticClass:"md-error"},[t._v(t._s(t.errors["isbn"]))])],1),n("md-field",[n("label",[t._v("Category")]),n("md-select",{model:{value:t.category,callback:function(e){t.category=e},expression:"category"}},t._l(t.categories,(function(e){return n("md-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1),n("md-field",[n("label",[t._v("Format")]),n("md-select",{model:{value:t.format,callback:function(e){t.format=e},expression:"format"}},t._l(t.formats,(function(e){return n("md-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1)],1),n("md-card-actions",[n("md-button",{on:{click:t.cancel}},[t._v("Cancel")]),n("md-button",{on:{click:t.create}},[t._v("Create")])],1)],1)},q=[],V={name:"CreateCard",data:function(){return{title:"",isbn:"",errors:[],category:1,format:1,isLoading:!1}},computed:{categories:function(){return this.$store.getters.getCategory},formats:function(){return this.$store.getters.getFormat}},methods:{initilize:function(){this.errors="",this.title="",this.isbn="",this.category=1,this.format=1},create:function(){var t=this,e=this;this.isLoading=!0;var n={title:this.title,isbn:this.isbn,categoryId:this.category,formatId:this.format};I.create(n,(function(){t.isLoading=!1,e.cancel()}),(function(n){t.isLoading=!1,e.errors=n.response.data}))},cancel:function(){this.initilize(),this.$emit("cancel")}}},R=V,U=Object(C["a"])(R,D,q,!1,null,null,null),z=U.exports,J=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-card",{attrs:{"md-with-hover":""}},[t.isEdit?[n("md-card-content",[n("md-field",{class:{"md-invalid":t.errors.hasOwnProperty("title")}},[n("label",[t._v("Title")]),n("md-input",{attrs:{autofocus:"",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),n("span",{staticClass:"md-error"},[t._v(t._s(t.errors["title"]))])],1),n("md-field",{class:{"md-invalid":t.errors.hasOwnProperty("isbn")}},[n("label",[t._v("ISBN")]),n("md-input",{attrs:{required:""},model:{value:t.isbn,callback:function(e){t.isbn=e},expression:"isbn"}}),n("span",{staticClass:"md-error"},[t._v(t._s(t.errors["isbn"]))])],1),n("md-field",[n("label",[t._v("Category")]),n("md-select",{model:{value:t.category,callback:function(e){t.category=e},expression:"category"}},t._l(t.categories,(function(e){return n("md-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1),n("md-field",[n("label",[t._v("Format")]),n("md-select",{model:{value:t.format,callback:function(e){t.format=e},expression:"format"}},t._l(t.formats,(function(e){return n("md-option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1)],1)]:[n("md-card-header",[n("div",{staticClass:"md-title"},[t._v(t._s(t.book.title))])]),n("md-card-content",[n("p",[t._v(t._s(t.book.category.name))]),n("p",[t._v(t._s(t.book.format.name))])])],n("md-card-actions",{attrs:{"md-alignment":"space-between"}},[n("md-button",{on:{click:t.remove}},[t._v("Delete")]),n("div",[t.isEdit?n("md-button",{on:{click:t.cancel}},[t._v("Cancel")]):t._e(),n("md-button",{on:{click:t.edit}},[t._v("Edit")])],1)],1)],2)},Y=[],K={name:"EditCard",props:{book:Object},data:function(){return{title:"",isbn:"",category:1,format:1,editable:!1,errors:[]}},created:function(){this.getBook()},computed:{isEdit:{get:function(){return this.editable},set:function(t){this.editable=t}},categories:function(){return this.$store.getters.getCategory},formats:function(){return this.$store.getters.getFormat}},methods:{getBook:function(){var t=this;I.get({id:t.book.id},(function(e){t.errors="",t.title=e.title,t.isbn=e.isbn,t.category=e.category.id,t.format=e.format.id}))},edit:function(){if(this.isEdit){var t={id:this.book.id,title:this.title,isbn:this.isbn,categoryId:this.category,formatId:this.format},e=this;I.edit(t,(function(){return e.cancel()}),(function(t){return e.errors=t.response.data}))}else this.getBook(),this.isEdit=!0},remove:function(){var t={id:this.book.id,title:this.title,isbn:this.isbn,categoryId:this.category,formatId:this.format},e=this;I.delete(t,(function(){return e.cancel()}))},cancel:function(){this.isEdit=!1,this.$emit("cancel")}}},Q=K,W=Object(C["a"])(Q,J,Y,!1,null,null,null),X=W.exports,Z="GET_CATEGORY",tt="GET_FORMAT",et={name:"home",data:function(){return{books:[],keyword:"",contents:[],isLoading:!1,isCreate:!1}},components:{CreateCard:z,EditCard:X,Header:H},created:function(){this.getBookList(),this.$store.dispatch(Z),this.$store.dispatch(tt)},methods:{search:function(){this.getBookList()},getBookList:function(){var t=this;this.isLoading=!0;var e=this;I.search({query:this.keyword},(function(n){e.books=n.content,t.isLoading=!1}))},create:function(){this.isCreate=!0,document.querySelector(".md-app-scroller").scrollTop=0},createCancel:function(){this.isCreate=!1,this.getBookList()}}},nt=et,ot=(n("cccb"),Object(C["a"])(nt,$,P,!1,null,null,null)),it=ot.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Header",[n("template",{slot:"header-content"},[n("span",{staticClass:"md-title"},[t._v("About")])]),n("template",{slot:"app-content"},[n("md-list",[n("md-subheader",{staticClass:"md-primary"},[t._v("Application Name")]),n("md-list-item",[n("span",{staticClass:"md-list-item-text"},[t._v(t._s(t.AppInfo.AppName))])]),n("md-subheader",{staticClass:"md-primary"},[t._v("Developer")]),n("md-list-item",[n("span",{staticClass:"md-list-item-text"},[t._v(t._s(t.AppInfo.AppDeveloper))])]),n("md-subheader",{staticClass:"md-primary"},[t._v("Github")]),n("md-list-item",[n("span",{staticClass:"md-list-item-text"},[t._v(t._s(t.AppInfo.GithubLink))])])],1)],1)],2)},rt=[],st={name:"About",data:function(){return{AppInfo:d}},components:{Header:H}},ct=st,lt=Object(C["a"])(ct,at,rt,!1,null,null,null),ut=lt.exports;o["default"].use(x["a"]);var dt=new x["a"]({base:"/",routes:[{path:"/login",component:S,meta:{anonymous:!0}},{path:"/home",name:"home",component:it},{path:"/about",name:"about",component:ut},{path:"/*",redirect:"/home"}]});dt.beforeEach((function(t,e,n){t.matched.some((function(t){return t.meta.anonymous}))?n():o["default"].nextTick((function(){return dt.app.$children[0].checkLogin(t,e,n)}))}));var mt,ft,pt=dt,ht=n("ade3"),bt=n("2f62"),gt={category:function(t){u.get(g.Category,{},t,(function(){return!1}))},format:function(t){u.get(g.Format,{},t,(function(){return!1}))}};o["default"].use(bt["a"]);var vt={category:[],format:[]},_t=(mt={},Object(ht["a"])(mt,Z,(function(t){var e=t.commit;gt.category((function(t){return e(Z,t)}))})),Object(ht["a"])(mt,tt,(function(t){var e=t.commit;gt.format((function(t){return e(tt,t)}))})),mt),kt={getCategory:function(t){return t.category},getFormat:function(t){return t.format}},yt=(ft={},Object(ht["a"])(ft,Z,(function(t,e){t.category=e})),Object(ht["a"])(ft,tt,(function(t,e){t.format=e})),ft),Ct=new bt["a"].Store({state:vt,getters:kt,actions:_t,mutations:yt}),wt=Ct,Lt=n("9483");Object(Lt["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var xt=n("9c30");n("51de"),n("e094");o["default"].use(xt["MdApp"]),o["default"].use(xt["MdButton"]),o["default"].use(xt["MdCard"]),o["default"].use(xt["MdContent"]),o["default"].use(xt["MdDrawer"]),o["default"].use(xt["MdField"]),o["default"].use(xt["MdIcon"]),o["default"].use(xt["MdSnackbar"]),o["default"].use(xt["MdSpeedDial"]),o["default"].use(xt["MdToolbar"]),o["default"].use(xt["MdProgress"]),o["default"].use(xt["MdList"]),o["default"].use(xt["MdSubheader"]),o["default"].use(xt["MdMenu"]);var Ot=n("ecee"),At=n("c074"),Et=n("f2d1"),jt=n("ad3d");Ot["c"].add(Et["a"]),Ot["c"].add(At["a"]),o["default"].component("font-awesome-icon",jt["a"]),o["default"].config.productionTip=!1,new o["default"]({router:pt,store:wt,render:function(t){return t(L)}}).$mount("#app")},"5ced":function(t,e,n){},6860:function(t,e,n){},"8baf":function(t,e,n){"use strict";n("6860")},cccb:function(t,e,n){"use strict";n("5ced")},d6db:function(t,e,n){"use strict";n("e67a")},e67a:function(t,e,n){}});